<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE TEMPLATE SYSTEM "template.dtd">

<TEMPLATE author='M5 team' created='20.05.2014' name='transaction' version='1.0' type='character'>
  <CHANGES_HISTORY/>
  <PAGE_INFO resolution='1' width='40' height='2048' top_margin='0' bottom_margin='0' left_margin='0' right_margin='0' standard_font='NORMAL, PLAIN, -1'/>

  <CONSTANT name='var_worker_id' argument='TS.TRANSACTION_HEADER.WORKER_ID' datatype='java.lang.String'/>

  <!-- GLOBAL VARIABLES -->
  <!-- TODO: move to separate variables XML file -->
  <!-- Note: using StrFormat the %-sign need to be escaped by another %-sign! -->
  <VARIABLE name='var_percentage_sign' argument='StrFormat("%%")' datatype='java.lang.String'/>
  <VARIABLE name='var_separator_line' argument='StrFormat("- - - - - - - - - - - -")' datatype='java.lang.String'/>

  <!-- Bar Code variables -->
  <VARIABLE name='VAR_BARCODE_EAN128' argument='StrFormat(TS.TRANSACTION_FOOTER.BARCODE)' datatype='java.lang.String'/>

  <!-- Header rows -->
  <SECTION condition='TS.TRANSACTION_HEADER.TRAINING_MODE' id='1' type='detail' preferred_height='2' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_trainingmode'  type='label'  argument='${lbl_trainingmode}' representation='character-text' posX='0'  posY='1' width='40'  height='1' alignmentH='center'  alignmentV='top' underline='false' font='NORMAL, BOLD, 12'/>
  </SECTION>

  <!-- FISCAL HEADER BEGIN -->
  <SECTION id='10' condition='BS.FISCAL.PRINT_FISCAL_HEADER AND TS.FISCAL_TRANSACTION.COUNTER_TYPE!=null' type='detail' preferred_height='1' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_fiscal_full_invoice' condition='TS.FISCAL_TRANSACTION.FULL_INVOICE' type='label' argument='${lbl_fiscal_full_invoice}' representation='character-text' posX='0'  posY='1' width='40'  height='1' alignmentH='center'  alignmentV='top' underline='false' font='NORMAL, BOLD, 12'/>
    <ENTRY id='lbl_fiscal_simple_invoice' condition='TS.FISCAL_TRANSACTION.SIMPLE_INVOICE' type='label' argument='${lbl_fiscal_simple_invoice}' representation='character-text' posX='0'  posY='1' width='40'  height='1' alignmentH='center'  alignmentV='top' underline='false' font='NORMAL, BOLD, 12'/>
    <ENTRY id='lbl_fiscal_return_invoice' condition='TS.FISCAL_TRANSACTION.RETURN_INVOICE' type='label' argument='${lbl_fiscal_return_invoice}' representation='character-text' posX='0'  posY='1' width='40'  height='1' alignmentH='center'  alignmentV='top' underline='false' font='NORMAL, BOLD, 12'/>
    <ENTRY id='lbl_fiscal_signature_number' type='query' argument='ConcatWithSpace("${lbl_fiscal_signature_number}",TS.FISCAL_TRANSACTION.FISCAL_SIGNATURE)' representation='character-text' posX='0'  posY='2' width='40'  height='1' alignmentH='center'  alignmentV='top' underline='false' font='NORMAL, BOLD, 12'/>
    <ENTRY id='lbl_fiscal_tax_id' condition='TS.FISCAL_TRANSACTION.FISCAL_INVOICE_CUSTOMER_TAX_ID!=NULL' type='query' argument='ConcatWithSpace("${lbl_fiscal_tax_payer}", TS.FISCAL_TRANSACTION.FISCAL_INVOICE_CUSTOMER_TAX_ID)' representation='character-text' posX='0'  posY='4' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false' font='NORMAL, BOLD, 12'/>
    <ENTRY id='lbl_fiscal_default_tax_id' condition='Equals(TS.FISCAL_TRANSACTION.FISCAL_INVOICE_CUSTOMER_TAX_ID,NULL)' type='query' argument='ConcatWithSpace("${lbl_fiscal_tax_payer}","${lbl_fiscal_default_customer}")' representation='character-text' posX='0'  posY='4' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false' font='NORMAL, BOLD, 12'/>
  </SECTION>

  <SECTION id='999' condition='TS.FISCAL_TRANSACTION.FISCALIZATION_RECEIPT_TEXT!=null' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='fld_fiscalization_text' type='datafield' argument='TS.FISCAL_TRANSACTION.FISCALIZATION_RECEIPT_TEXT' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- FISCAL HEADER END -->

  <!-- INVOICE PRINTOUT CUSTOMER SECTION -->
  <SECTION condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_CUSTOMER' id='11500' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_descr_id' condition='!Equals(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION,"") AND !Equals(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION, NULL)' type='query' argument='StrCat(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION, ": ", TS.CUSTOMER.CUSTOMER_I_D)' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_descr_id' condition='Equals(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION,"") OR Equals(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION, NULL)' type='query' argument='StrCat(${customer_card.description},": ", TS.CUSTOMER.CUSTOMER_I_D)' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- organization name -->
    <SECTION id='11511' condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_CUSTOMER AND (!Equals(TS.CUSTOMER.ORGANIZATION_NAME, NULL))' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_descr_id' type='query' argument='TS.CUSTOMER.ORGANIZATION_NAME' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- customer name -->
  <SECTION id='11512' condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_CUSTOMER AND (!Equals(TS.CUSTOMER.FIRST_NAME, NULL) OR !Equals(TS.CUSTOMER.LAST_NAME, NULL))' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_descr_id' type='query' argument='ConcatWithSpace(TS.CUSTOMER.FIRST_NAME, TS.CUSTOMER.LAST_NAME)' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- customer street -->
  <SECTION id='11513' condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_CUSTOMER AND (!Equals(TS.CUSTOMER.STREET, NULL))' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_street' type='query' argument='TS.CUSTOMER.STREET' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- customer address -->
  <SECTION id='11514' condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_CUSTOMER AND (!Equals(TS.CUSTOMER.POSTAL_CODE, NULL) OR !Equals(TS.CUSTOMER.CITY, NULL))' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_descr_id' type='query' argument='ConcatWithSpace(TS.CUSTOMER.POSTAL_CODE, TS.CUSTOMER.CITY)' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- customer taxNumber -->
  <SECTION id='11515' condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_CUSTOMER AND (!Equals(TS.CUSTOMER.TAX_NUMBER, NULL))' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_tax_nr' type='query' argument='ConcatWithSpace("${lbl.customer.tax.number}", TS.CUSTOMER.TAX_NUMBER)' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>

  <!-- INVOICE PRINTOUT RECIPIENT SECTION -->
  <SECTION condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_RECIPIENT' id='11530' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='lbl_title'  type='label'  argument='${lbl.invoice.printout.recipient}' representation='character-text' posX='0'  posY='1' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false' font='NORMAL, BOLD, 12'/>
  </SECTION>
  <SECTION condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_RECIPIENT' id='11531' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='lbl_line' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='1' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
      <ENTRY id='lbl_line' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='2' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
      <ENTRY id='lbl_line' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='3' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
      <ENTRY id='lbl_line' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='4' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
   </SECTION>

  <!-- INVOICE PRINTOUT ACTIVATED SECTION -->
  <SECTION condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_ACTIVATED AND (!Equals(TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_TYPE_CODE,"01") OR !Equals(TS.RETAIL_TRANSACTION_HEADER.INVOICE_NUMBER,NULL))' id='11520' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.invoice.printout.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, BOLD, 12'/>
  </SECTION>
  <SECTION condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_ACTIVATED AND !Equals(TS.RETAIL_TRANSACTION_HEADER.INVOICE_NUMBER,NULL) AND (!Equals(TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_TYPE_CODE,"01") OR !Equals(TS.RETAIL_TRANSACTION_HEADER.INVOICE_NUMBER,NULL))' id='11521' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='lbl_number' type='query' argument='ConcatWithSpace("${lbl.invoice.printout.number}", TS.RETAIL_TRANSACTION_HEADER.INVOICE_NUMBER)' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <SECTION condition='TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_ACTIVATED AND (!Equals(TS.RETAIL_TRANSACTION_HEADER.INVOICE_PRINTOUT_TYPE_CODE,"01") OR !Equals(TS.RETAIL_TRANSACTION_HEADER.INVOICE_NUMBER,NULL))' id='11522' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='lbl_date' type='query' argument='ConcatWithSpace("${lbl.invoice.printout.date}", Format(TS.RETAIL_TRANSACTION_HEADER.INVOICE_DATE,"ID:DATE_LONG"))' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>

  <!-- Receipt reprint mark -->
  <SECTION condition='MS.MODEL.DUPLICATE' id='993' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_copy' type='label' argument='${printout.copy}' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false' font='NORMAL, BOLD, 12'/>
  </SECTION>
  <!-- Employee sales mark-->
  <SECTION id='994' condition='TS.WORKER_DISCOUNT_LINE_ITEM.WITH_WORKER_DISCOUNT' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.employee.sales.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- Receipt void mark -->
  <SECTION id='995' condition='TS.TRANSACTION_HEADER.VOIDING_TRANSACTION' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.receipt.void.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- Pay in receipt mark -->
  <SECTION id='996' condition='Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "PI")' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.receipt.payIn.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- Pay out receipt mark -->
  <SECTION id='997' condition='Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "PO")' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.receipt.payOut.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- Tender exchange mark -->
  <SECTION id='998' condition='Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "EX")' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.receipt.tenderExchange.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>

  <!-- RECEIPT / BILL lettering (Schriftzug Rechnung / Zwischenrechnung)  -->
  <SECTION id='999' type='detail' condition='MS.MODEL.HPOS' preferred_height='2' section_repeat='1'  border='0'>
    <ENTRY id='lbl_bill'  condition="MS.MODEL.BILL" type='label' argument='${hpos_lbl_bill}' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='center' font='NORMAL, PLAIN, 24'/>
    <ENTRY id='lbl_bill2' condition="!MS.MODEL.BILL" type='label' argument='${hpos_lbl_reciept}' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='center' font='NORMAL, PLAIN, 24'/>
  </SECTION>

  <!-- LINE ITEM HEADER -->
  <SECTION id='1000' condition='!Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "EX")' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='35'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- POSITIONS-->

  <!-- SALE RETURN LINE ITEMS -->

  <!-- SECTIONS FOR VOIDED LINE ITEMS  -->
  <SECTION id='1102' condition='TS.SALE_RETURN_LINE_ITEM.VOID_TYPE_CODE == "00"' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_void'           type='label'     argument='${lbl_voiding_reasoncode.VALI}' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <SECTION id='1103' condition='TS.SALE_RETURN_LINE_ITEM.VOID_TYPE_CODE == "01"' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_void'           type='label'     argument='${lbl_voiding_reasoncode.VLLI}' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- SECTIONS FOR RETURNED LINE ITEMS  -->
  <SECTION id='1111' condition='TS.SALE_RETURN_LINE_ITEM.RETURN_TYPE AND !TS.SALE_RETURN_LINE_ITEM.VOIDING_TRANSACTION AND !TS.SALE_RETURN_LINE_ITEM.NEGATIVE_LINE_ITEM_FLAG' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_retoure'           type='label'     argument='${lbl_retoure}' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- QUANTITY -->
  <SECTION id='1144' condition='(!TS.SALE_RETURN_LINE_ITEM.SINGLE_QUANTITY OR TS.SALE_RETURN_LINE_ITEM.QUANTITY_INPUT_METHOD_TYPE_OTHER) AND !TS.SALE_RETURN_LINE_ITEM.QUANTITY_INPUT_METHOD_TYPE_WEIGHT' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_item_quantity'     type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.SIGNED_QUANTITY_MULTIPLIED_UNITS'     datatype='java.lang.Double' representation='character-text' posX='3'  posY='0' width='10'  height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:QUANTITY'    wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_x_quantity'        type='label'     argument='${lbl_x_quantity}'                                                  representation='character-text' posX='14'  posY='0' width='1'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
    <ENTRY id='fld_item_single_price' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.SINGLE_PRICE' datatype='java.lang.Double' representation='character-text' posX='16'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_currency_per_unit'  type='query'     argument='StrCat(BS.CURRENCY_DATA.BASE_CURRENCY_CODE)' representation='character-text' posX='27'  posY='0' width='6' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- POS ITEM ID - ART/EAN -->
  <SECTION id='1130' condition='(TS.SALE_RETURN_LINE_ITEM.HAS_MERCHANDISE_HIERARCHY_GROUP_CONSOLIDATION_TITLE)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0' standard_font='NORMAL, BOLD, 12'>
  <ENTRY id='group_name' type='query' argument='TS.SALE_RETURN_LINE_ITEM.MERCHANDISE_HIERARCHY_GROUP_CONSOLIDATION_TITLE' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='true' />
  </SECTION>
  <SECTION id='1131' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID,NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_artno'       type='query'     argument='StrCat(${lbl_artno.argument}," ",TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID)' representation='character-text' posX='0'  posY='0' width='25'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- Sale Item Receipt Text: 15.010 -->
  <SECTION id='15010' type='detail' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.RECEIPT_TEXT,NULL)' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_item_name' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RECEIPT_TEXT' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='40' height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- LINE ITEM -->
  <!-- standard layout -->
  <SECTION id='1141' condition='!(TS.SALE_RETURN_LINE_ITEM.SALES_ORDER_ADDITIONAL_PRINTOUT_EXCEPTION)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <!-- standard layout -->
    <ENTRY id='fld_item_name'    condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")'     type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RECEIPT_TEXT'         datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='24' height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask=''            wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='fld_item_total'   condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")'     type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.SIGNED_AMOUNT'        datatype='java.lang.Double' representation='character-text' posX='27' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_x'            condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.SALE_RETURN_LINE_ITEM.DISCOUNT_FLAG'             type='label'     argument='*'                                                  representation='character-text' posX='37'  posY='0' width='1'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
    <ENTRY id='lbl_t'            condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")'     type='datafield'     argument='TS.SALE_RETURN_LINE_ITEM.TAX_RECEIPT_PRINT_CODE'                                                  representation='character-text' posX='38'  posY='0' width='1'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
    <ENTRY id='lbl_f'            condition='BS.SYSTEM.US_PRINTOUT AND !Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.SALE_RETURN_LINE_ITEM.ALLOW_FOOD_STAMP_FLAG'  type='label'  argument='F'  representation='character-text'  posX='39'  posY='0' width='1'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <!-- sales order layout -->
    <ENTRY id='fld_item_name'    condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")'     type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RECEIPT_TEXT'         datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='24' height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask=''            wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='fld_item_total'   condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")'     type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.SIGNED_AMOUNT'        datatype='java.lang.Double' representation='character-text' posX='24' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_x'            condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.SALE_RETURN_LINE_ITEM.DISCOUNT_FLAG'        type='label'     argument='*'                                                  representation='character-text' posX='34'  posY='0' width='1'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
  </SECTION>
  <SECTION id='1142' condition='TS.SALE_RETURN_LINE_ITEM.HAS_RECEIPT_TEXT_ALTERNATIVE' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_item_name_alt'         type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RECEIPT_TEXT_ALTERNATIVE.TEXT'         datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='35' height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask=''            wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- pay in / pay out layout - reason -->
  <SECTION id='1145' condition='(Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"PI") OR Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"PO")) AND !Equals(TS.SALE_RETURN_LINE_ITEM.REASON_DESCRIPTION,null)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_reason'           type='query'     argument='ConcatWithSpace("${lbl_reason}",TS.SALE_RETURN_LINE_ITEM.REASON_DESCRIPTION)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- gift certificate number -->
  <SECTION id='1148' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.GIFT_CERTIFICATE_NUMBER,NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_gift_cert_number' type='query' argument='ConcatWithSpace(${lineitem.giftCertificate.number.label}, TS.SALE_RETURN_LINE_ITEM.GIFT_CERTIFICATE_NUMBER)' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- SERIAL NUMBER -->
  <SECTION id='1150' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.SERIAL_NUMBER,null)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_SN'           type='query'     argument='ConcatWithSpace("${lbl_serial_number}",TS.SALE_RETURN_LINE_ITEM.SERIAL_NUMBER)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='35'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- SALES ORDER ID -->
  <SECTION id='1155' condition='TS.SALE_RETURN_LINE_ITEM.HAS_SALES_ORDER_ID AND !TS.SALE_RETURN_LINE_ITEM.SALES_ORDER_ADDITIONAL_PRINTOUT' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_on'           type='query'     argument='ConcatWithSpace("${lbl_order_number}",TS.SALE_RETURN_LINE_ITEM.SALES_ORDER_ID)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='35'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- SALESPERSON -->
  <SECTION id='1158' condition='TS.SALE_RETURN_LINE_ITEM.SALES_PERSON_CHANGED AND !TS.SALE_RETURN_LINE_ITEM.VOID_FLAG' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_salesperson' type='query'  argument='ConcatWithSpace(${lbl_salesperson},TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_ASSOCIATE.WORKER_FIRST_NAME,TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_ASSOCIATE.WORKER_LAST_NAME)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='35'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- RETURN REASON -->
  <SECTION id='1165' condition='TS.SALE_RETURN_LINE_ITEM.RETURN_TYPE AND !Equals(TS.SALE_RETURN_LINE_ITEM.RETURN_REASON_DESCRIPTION,null)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_retoure_reason' type='query' argument='ConcatWithSpace("${lbl_retoure_reason}",TS.SALE_RETURN_LINE_ITEM.RETURN_REASON_DESCRIPTION)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- reason -->
  <SECTION id='1170' condition='TS.SALE_RETURN_LINE_ITEM.RETURN_REASON_TYPE AND !Equals(TS.SALE_RETURN_LINE_ITEM.RETURN_REASON_DESCRIPTION,null)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_retoure_reason'           type='query'     argument='ConcatWithSpace("${lbl_retoure_reason}",TS.SALE_RETURN_LINE_ITEM.RETURN_REASON_DESCRIPTION)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- MANUAL PRICE OVERRIDE -->
  <!-- manual price change: 1173,1174 -->
  <SECTION id='1173' condition='TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_CHANGE AND !Equals(TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID,NULL) AND !TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_OVERRIDE_WITH_TRIGGERS AND TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_OVERRIDE_NON_TRIGGERS AND TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.AMOUNT != 0' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <!-- standard layout -->
    <ENTRY id='lbl_price_change'         condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='label'     argument='${lbl_price_change.argument}'                                                          datatype='java.lang.String' representation='character-text' posX= '0'  posY='0' width='27' height='1' alignmentH='left'  alignmentV='top'                                                                         underline='false'/>
    <ENTRY id='fld_item_discount_amount' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")  AND !TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.AMOUNT'                                 datatype='java.lang.Double' representation='character-text' posX='27'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_new_price'            condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='query'     argument='StrCat(${lbl_new_price.argument}," ",Format(TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.NEW_PRICE,"ID:PRICE"))' representation='character-text' posX= '0'  posY='1' width='30' height='1' alignmentH='left'  alignmentV='top'                                                                         underline='false'/>
  <!-- discount amount as info only (line item amount includes discounts) -->
    <ENTRY id='fld_item_discount_amount' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT'  type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.AMOUNT'                                 datatype='java.lang.Double' representation='character-text' posX='21'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <!-- sales order layout -->
    <ENTRY id='lbl_price_change'         condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='label'     argument='${lbl_price_change.argument}'                                                          datatype='java.lang.String' representation='character-text' posX= '0'  posY='0' width='24' height='1' alignmentH='left'  alignmentV='top'                                                                         underline='false'/>
    <ENTRY id='fld_item_discount_amount' condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.AMOUNT'                                 datatype='java.lang.Double' representation='character-text' posX='24'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_new_price'            condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='query'     argument='StrCat(${lbl_new_price.argument}," ",Format(TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.NEW_PRICE,"ID:PRICE"))' representation='character-text' posX= '0'  posY='1' width='30' height='1' alignmentH='left'  alignmentV='top'                                                                         underline='false'/>
  </SECTION>
  <SECTION id='1174' condition='TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_CHANGE AND !Equals(TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID,NULL) AND !TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_OVERRIDE_WITH_TRIGGERS AND TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_OVERRIDE_NON_TRIGGERS AND TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.AMOUNT != 0 AND !Equals(TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.REASON_DESCRIPTION,null)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_reason'         type='query'     argument='ConcatWithSpace(${priceModificationLine.reason.label},TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.REASON_DESCRIPTION)'    representation='character-text' posX='0'  posY='0' width='35'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
  </SECTION>
  <!-- ??? -->
  <SECTION id='1181' condition='TS.SALE_RETURN_LINE_ITEM.VOID_FLAG AND TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_CHANGE AND Equals(TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID,NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_new_price'         type='label'     argument='${lbl_new_price.argument}'    representation='character-text' posX='0'  posY='0' width='12'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
    <ENTRY id='fld_item_single_price' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.ACTUAL_UNIT_PRICE' datatype='java.lang.Double' representation='character-text' posX='13'  posY='0' width='20' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
    <!-- Invoice id -->
  <SECTION id='1186' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.INVOICE_ID,NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_invoice_id' type='query' argument='ConcatWithSpace(${lbl.invoice_payment.invoice_id}, TS.SALE_RETURN_LINE_ITEM.INVOICE_ID)' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- ??? -->
  <SECTION id='1191' condition='TS.SALE_RETURN_LINE_ITEM.RETURNED' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_returnable'  type='label'     argument='${lbl_rest_quantity}'                datatype='java.lang.String' representation='character-text' posX='8'  posY='0' width='20' height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false' />
    <ENTRY id='fld_returnable'  type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETURNABLE_QUANTITY'  datatype='java.lang.Double' representation='character-text' posX='27' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false' />
    <ENTRY id='lbl_returned'    type='label'     argument='${lbl_returned_quantity}'    datatype='java.lang.String' representation='character-text' posX='8'  posY='1' width='20' height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'  color='blue'/>
    <ENTRY id='fld_returned'    type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETURNED_QUANTITY'    datatype='java.lang.Double' representation='character-text' posX='27' posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false' />
  </SECTION>

  <!-- SCALE ITEMS -->
  <SECTION id='1201' condition='TS.SALE_RETURN_LINE_ITEM.QUANTITY_INPUT_METHOD_TYPE_WEIGHT AND !TS.SALE_RETURN_LINE_ITEM.QUANTITY_INPUT_METHOD_TYPE_WEIGHT_MANUAL' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_item_quantity'      type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.SIGNED_QUANTITY_MULTIPLIED_UNITS'     datatype='java.lang.Double' representation='character-text' posX='3'  posY='0' width='7'  height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:WEIGHT'    wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_weighing_unit'         type='datafield' argument='BS.STORE_DATA.MAIN_WEIGHING_UNIT'                                                  representation='character-text' posX='11'  posY='0' width='2'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_x_quantity'        type='label'     argument='${lbl_x_quantity}'                                                  representation='character-text' posX='14'  posY='0' width='1'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
    <ENTRY id='fld_item_single_price'  type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.SINGLE_PRICE' datatype='java.lang.Double' representation='character-text' posX='16'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_currency_per_unit'  type='query'     argument='StrCat(BS.CURRENCY_DATA.BASE_CURRENCY_CODE, "/", BS.STORE_DATA.MAIN_WEIGHING_UNIT)' representation='character-text' posX='27'  posY='0' width='6' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <SECTION id='1202' condition='TS.SALE_RETURN_LINE_ITEM.QUANTITY_INPUT_METHOD_TYPE_WEIGHT AND TS.SALE_RETURN_LINE_ITEM.QUANTITY_INPUT_METHOD_TYPE_WEIGHT_MANUAL' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_manuall_quantity'  type='label'     argument='${lbl_manual_weight}'                                                  representation='character-text' posX='4'  posY='0' width='30'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
    <ENTRY id='fld_item_quantity'     type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.SIGNED_QUANTITY_MULTIPLIED_UNITS'     datatype='java.lang.Double' representation='character-text' posX='3'  posY='1' width='7'  height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:WEIGHT'    wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_weighing_unit'        type='datafield' argument='BS.STORE_DATA.MAIN_WEIGHING_UNIT'                                                  representation='character-text' posX='11'  posY='1' width='2'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_x_quantity'        type='label'     argument='${lbl_x_quantity}'                                                  representation='character-text' posX='14'  posY='1' width='1'  height='1' alignmentH='left'  alignmentV='top'                                                                            underline='false'/>
    <ENTRY id='fld_item_single_price' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.SINGLE_PRICE' datatype='java.lang.Double' representation='character-text' posX='16'  posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_currency_per_unit' type='query'     argument='StrCat(BS.CURRENCY_DATA.BASE_CURRENCY_CODE, "/", BS.STORE_DATA.MAIN_WEIGHING_UNIT)' representation='character-text' posX='27'  posY='1' width='6' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!-- TOTALS -->

  <!-- Total without transaction discounts -->
  <SECTION id='2100' condition='Equals(TS.TRANSACTION_TOTAL.ACTIVE_TOTAL_TYPE_CODE, SUBTOTAL) AND !Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "EX")' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_line'        type='label'      argument='-----------'  representation='character-text' posX='29'  posY='0' width='11' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_name'        type='query'  argument='StrCat(If(BS.STORE_DATA.INCLUDE_SALES_TAX_FLAG,"${total.label.subtotal.withTax}", "${total.label.subtotal.noTax}"), " [", TS.TRANSACTION_TOTAL.COUNT ,"]")' representation='character-text' posX='0'  posY='1' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='22'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.TRANSACTION_TOTAL.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27' posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!-- Total with transaction discounts -->
  <SECTION condition='Equals(TS.TRANSACTION_TOTAL.ACTIVE_TOTAL_TYPE_CODE, SUBTOTAL_DISCOUNT) AND (!TS.LOYALTY_REWARD_LINE_ITEM.EMPTY OR !TS.PRICE_MODIFICATION_LINE_ITEM.EMPTY) AND !Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "EX")' id='2200' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_line'        type='label'      argument='-----------'  representation='character-text' posX='29'  posY='0' width='11' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_name'        type='query'  argument='If(BS.STORE_DATA.INCLUDE_SALES_TAX_FLAG,"${total.label.subtotal_discount.withTax}", "${total.label.subtotal_discount.noTax}")' representation='character-text' posX='0'  posY='1' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='22'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.TRANSACTION_TOTAL.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27' posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!--  Total with transaction discounts and tax -->
  <SECTION id='2300' condition='Equals(TS.TRANSACTION_TOTAL.ACTIVE_TOTAL_TYPE_CODE, TOTAL) AND (!BS.STORE_DATA.INCLUDE_SALES_TAX_FLAG OR TS.ROUNDING_LINE_ITEM.SUBTOTAL_ROUNDING_PRESENT) AND !Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "EX")' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_line'        type='label'      argument='-----------'  representation='character-text' posX='29'  posY='0' width='11' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_name'        type='label'      argument='${total.label.total}'  representation='character-text' posX='0'  posY='1' width='20' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='22'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.TRANSACTION_TOTAL.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27' posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!-- PRICE MODIFICATION LINE ITEMS / TRANSACTION CONDITIONS -->
  <SECTION id='3000' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_description'   type='query'  argument='If(TS.PRICE_MODIFICATION_LINE_ITEM.PERCENTAGE_MODIFICATION, StrCat(TS.PRICE_MODIFICATION_LINE_ITEM.PROMOTION_RECEIPT_PRINTER_NAME, " ", Format(TS.PRICE_MODIFICATION_LINE_ITEM.PROMOTION_TRIGGER.PRIVILEGE_VALUE,"ID:INTEGER_PERCENTAGE"), "%"), TS.PRICE_MODIFICATION_LINE_ITEM.PROMOTION_RECEIPT_PRINTER_NAME)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='26' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_amount'       type='datafield'  argument='TS.PRICE_MODIFICATION_LINE_ITEM.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!-- reason line -->
  <SECTION id='3010' condition='!Equals(TS.PRICE_MODIFICATION_LINE_ITEM.PROMOTION_TRIGGER, NULL) AND !Equals(TS.PRICE_MODIFICATION_LINE_ITEM.PROMOTION_TRIGGER.REASON_DESCRIPTION, NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_reason' type='query' argument='ConcatWithSpace("${priceModificationLine.reason.label}", Dbf(TS.PRICE_MODIFICATION_LINE_ITEM.PROMOTION_TRIGGER.REASON_DESCRIPTION))' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false'/>
  </SECTION>

  <!-- LOYALTY REWARD LINE ITEMS / TRANSACTION POINTS CONDITIONS -->
  <SECTION id='3500' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_text' type='datafield'  argument='TS.LOYALTY_REWARD_LINE_ITEM.PROMOTION_RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='27' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_points' type='datafield'  argument='TS.LOYALTY_REWARD_LINE_ITEM.POINTS_AWARDED_COUNT' datatype='java.lang.Double' representation='character-text' posX='21' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:BONUS_POINTS' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!-- POSITION CONDITIONS (RetailPriceModifier) -->

  <!-- new price by promotion trigger [4001, 4003] -->
  <SECTION id='4001' condition='TS.PRICE_MODIFIER.CUSTOMER_SPECIFIC_PRICE AND !Equals(TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID,NULL)' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <!-- standard layout -->
    <ENTRY id='lbl_price_change'         condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='label'     argument='${lbl_price_change.argument}' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false' />
  <ENTRY id='fld_bc_isocode'			 condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='20'  posY='1' width='8'  height='0' alignmentH='left'  alignmentV='top' underline='false' />
    <ENTRY id='fld_item_discount_amount' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT'  datatype='java.lang.Double' representation='character-text' posX='27' posY='0' width= '10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false' />
    <ENTRY id='lbl_new_price'            condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='query'     argument='StrCat(${lbl_new_cust_price}," ",Format(TS.PRICE_MODIFIER.EXTENDED_AMOUNT_AFTER_MODIFICATION,"ID:PRICE"))' representation='character-text' posX=  '0' posY='1' width='40' height='1' alignmentH= 'left' alignmentV='top' underline='false' />
    <!-- sales order layout -->
    <ENTRY id='lbl_price_change'         condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='label'     argument='${lbl_price_change.argument}' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false' />
  <ENTRY id='fld_bc_isocode'			 condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='20'  posY='1' width='8'  height='0' alignmentH='left'  alignmentV='top' underline='false' />
    <ENTRY id='fld_item_discount_amount' condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT'  datatype='java.lang.Double' representation='character-text' posX='28' posY='0' width= '10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false' />
    <ENTRY id='lbl_new_price'            condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='query'     argument='StrCat(${lbl_new_cust_price}," ",Format(TS.PRICE_MODIFIER.EXTENDED_AMOUNT_AFTER_MODIFICATION,"ID:PRICE"))' representation='character-text' posX=  '0' posY='1' width='40' height='1' alignmentH= 'left' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='4002' condition='!TS.PRICE_MODIFIER.CUSTOMER_SPECIFIC_PRICE AND TS.PRICE_MODIFIER.PRICE_MODIFICATION AND !Equals(TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID,NULL) AND TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_OVERRIDE_WITH_TRIGGERS' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <!-- standard layout -->
    <ENTRY id='lbl_price_change'         condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' type='datafield' argument='TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX= '0' posY='0' width='20' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_new_discount_amount'  condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_new_price'            condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='query'     argument='StrCat(${lbl_new_price.argument}," ",Format(TS.SALE_RETURN_LINE_ITEM.SALE_RETURN_LINE_ITEM_PROMOTION_TRIGGER_TYPE_PS.PRIVILEGE_VALUE,"ID:PRICE"))' representation='character-text' posX= '0' posY='1' width='30' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
<!-- discount amount as info only (line item amount includes discounts) -->
    <ENTRY id='lbl_price_change'         condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' type='datafield' argument='TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX= '0' posY='1' width='20' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_new_discount_amount'  condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27' posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <!-- sales order layout -->
    <ENTRY id='lbl_price_change'         condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETAIL_TRANSACTION_PROMOTION_PRICE_DERIVATION_RULE.RECEIPT_PRINTER_NAME'                      datatype='java.lang.String' representation='character-text' posX= '0' posY='0' width='24' height='1' alignmentH='left'  alignmentV='top'                                                                         underline='false'/>
    <ENTRY id='fld_item_discount_amount' condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.AMOUNT'                                                                 datatype='java.lang.Double' representation='character-text' posX='24' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_new_price'            condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='query'     argument='StrCat(${lbl_new_price.argument}," ",Format(TS.SALE_RETURN_LINE_ITEM.SALE_RETURN_LINE_ITEM_PROMOTION_TRIGGER_TYPE_PS.PRIVILEGE_VALUE,"ID:PRICE"))' representation='character-text' posX= '0' posY='1' width='30' height='1' alignmentH='left'  alignmentV='top'                                                                         underline='false'/>
  </SECTION>
  <SECTION id='4003' condition='!TS.PRICE_MODIFIER.PRICE_MODIFICATION AND !Equals(TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID,NULL) AND !Equals(TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME,NULL) AND TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_OVERRIDE_WITH_TRIGGERS' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <!-- standard layout -->
    <ENTRY id='lbl_price_change'         condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX= '0' posY='0' width='20' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_item_discount_amount' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  <!-- discount amount as info only (line item amount includes discounts) -->
    <ENTRY id='fld_info_discount_amount' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='21' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <!-- sales order layout -->
    <ENTRY id='lbl_price_change'         condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETAIL_TRANSACTION_PROMOTION_PRICE_DERIVATION_RULE.RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX= '0' posY='0' width='24' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_item_discount_amount' condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.SALE_RETURN_LINE_ITEM.RETAIL_PRICE_MODIFIER.AMOUNT'                                            datatype='java.lang.Double' representation='character-text' posX='24' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <SECTION id='4004' condition='TS.PRICE_MODIFIER.PRICE_MODIFICATION AND !Equals(TS.SALE_RETURN_LINE_ITEM.POS_ITEM_ID,NULL) AND TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_OVERRIDE_WITH_TRIGGERS AND !Equals(TS.SALE_RETURN_LINE_ITEM.SALE_RETURN_LINE_ITEM_PROMOTION_TRIGGER_TYPE_PS.REASON_DESCRIPTION,null)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_reason' type='query' argument='ConcatWithSpace(${priceModificationLine.reason.label},TS.SALE_RETURN_LINE_ITEM.SALE_RETURN_LINE_ITEM_PROMOTION_TRIGGER_TYPE_PS.REASON_DESCRIPTION)'    representation='character-text' posX='0'  posY='0' width='35'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- line item discount in percent [4004, 4005] -->
  <SECTION id='4005' condition='(!TS.PRICE_MODIFIER.CUSTOMER_SPECIFIC_PRICE AND (TS.PRICE_MODIFIER.MONEY_DISCOUNT OR TS.PRICE_MODIFIER.MANUAL_DISCOUNT) AND !TS.SALE_RETURN_LINE_ITEM.MANUAL_PRICE_OVERRIDE_WITH_TRIGGERS)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <!-- standard layout - TS.PRICE_MODIFIER.MONEY_DISCOUNT -->
    <ENTRY          condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.PRICE_MODIFIER.MANUAL_DISCOUNT' id='fld_promotion' type='datafield' argument='TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='27'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY          condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.PRICE_MODIFIER.MANUAL_DISCOUNT AND !TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' id='fld_amount'    type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT'    datatype='java.lang.Double' representation='character-text' posX='27' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  <!-- discount amount as info only (line item amount includes discounts) - TS.PRICE_MODIFIER.MONEY_DISCOUNT -->
  <ENTRY          condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.PRICE_MODIFIER.MANUAL_DISCOUNT AND TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' id='fld_amount'    type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT'    datatype='java.lang.Double' representation='character-text' posX='21' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <!-- sales order layout - TS.PRICE_MODIFIER.MONEY_DISCOUNT -->
    <ENTRY          condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.PRICE_MODIFIER.MANUAL_DISCOUNT' id='fld_promotion' type='datafield' argument='TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='24'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY          condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND !TS.PRICE_MODIFIER.MANUAL_DISCOUNT' id='fld_amount'    type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT'    datatype='java.lang.Double' representation='character-text' posX='24' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <!-- standard layout - TS.PRICE_MODIFIER.MANUAL_DISCOUNT -->
    <ENTRY          condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.PRICE_MODIFIER.MANUAL_DISCOUNT' id='fld_promotion' type='query'     argument='If(TS.PRICE_MODIFIER.PERCENTAGE_MODIFICATION, StrCat(TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME, " ", Format(TS.PRICE_MODIFIER.PROMOTION_TRIGGER.PRIVILEGE_VALUE,"ID:INTEGER_PERCENTAGE"), "%"), TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='27'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY          condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.PRICE_MODIFIER.MANUAL_DISCOUNT AND !TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' id='fld_amount'    type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT'    datatype='java.lang.Double' representation='character-text' posX='27' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
   <!-- discount amount as info only (line item amount includes discounts) - TS.PRICE_MODIFIER.MONEY_DISCOUNT -->
    <ENTRY          condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.PRICE_MODIFIER.MANUAL_DISCOUNT AND TS.SALE_RETURN_LINE_ITEM.LINE_ITEM_DISCOUNTS_INCLUDED_IN_AMOUNT' id='fld_amount'    type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT'    datatype='java.lang.Double' representation='character-text' posX='21' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
    <!-- sales order layout - TS.PRICE_MODIFIER.MANUAL_DISCOUNT -->
    <ENTRY          condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.PRICE_MODIFIER.MANUAL_DISCOUNT' id='fld_promotion' type='query'     argument='If(TS.PRICE_MODIFIER.PERCENTAGE_MODIFICATION, StrCat(TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME, " ", Format(TS.PRICE_MODIFIER.PROMOTION_TRIGGER.PRIVILEGE_VALUE,"ID:INTEGER_PERCENTAGE"), "%"), TS.PRICE_MODIFIER.PROMOTION_RECEIPT_PRINTER_NAME)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='24'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY          condition= 'Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO") AND TS.PRICE_MODIFIER.MANUAL_DISCOUNT' id='fld_amount'    type='datafield' argument='TS.PRICE_MODIFIER.AMOUNT'    datatype='java.lang.Double' representation='character-text' posX='24' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <SECTION id='4006' condition='(TS.PRICE_MODIFIER.MONEY_DISCOUNT AND TS.PRICE_MODIFIER.MANUAL_DISCOUNT) AND !Equals(TS.PRICE_MODIFIER.REASON_DESCRIPTION,null)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <!-- reason -->
    <ENTRY            condition='!Equals(TS.PRICE_MODIFIER.REASON_DESCRIPTION,null)'                    id='fld_reason' type='query'  argument='ConcatWithSpace(${priceModificationLine.reason.label},TS.PRICE_MODIFIER.REASON_DESCRIPTION)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='36'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- SALES ORDER DATA -->
  <SECTION id='4701' condition='TS.SRLI_EXTENSION.ITEM_N_TYPE AND !TS.SALE_RETURN_LINE_ITEM.SALES_ORDER_ADDITIONAL_PRINTOUT' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY                                id='fld_reason' type='query'  argument='ConcatWithSpace(${lbl_order_data.item},TS.SRLI_EXTENSION.EXTENSION_VALUE)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='36'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <SECTION id='4702' condition='TS.SRLI_EXTENSION.SALES_ORDER_AMOUNT_TYPE AND !TS.SALE_RETURN_LINE_ITEM.SALES_ORDER_ADDITIONAL_PRINTOUT' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY                                id='fld_reason' type='query'  argument='ConcatWithSpace(${lbl_order_data.value},Format(TS.SRLI_EXTENSION.EXTENSION_VALUE_AS_DOUBLE,ID:PRICE))' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='36'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- Points discounts -->
  <SECTION id='4801' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <!-- standard layout -->
    <ENTRY id='fld_discount_text' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.FREQUENT_SHOPPER_POINTS_MODIFIER.RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='30'  height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask=''            wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='fld_points_amount' condition='!Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.FREQUENT_SHOPPER_POINTS_MODIFIER.FREQUENT_SHOPPER_POINTS_EARNED_COUNT' datatype='java.lang.Double' representation='character-text' posX='21'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:BONUS_POINTS' wrap='false' can_expand='false' underline='false'/>
    <!-- sales order layout -->
    <ENTRY id='fld_discount_text' condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.FREQUENT_SHOPPER_POINTS_MODIFIER.RECEIPT_PRINTER_NAME' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='26'  height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask=''            wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='fld_points_amount' condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"SO")' type='datafield' argument='TS.FREQUENT_SHOPPER_POINTS_MODIFIER.FREQUENT_SHOPPER_POINTS_EARNED_COUNT' datatype='java.lang.Double' representation='character-text' posX='17'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:BONUS_POINTS' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

   <!-- Set Item -->
  <SECTION id='4901' condition='TS.SRLI_COLLECTION.COLLECTION_ITEM_AVAILABLE' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_amount'          type='datafield' argument='TS.SRLI_COLLECTION.AMOUNT'         datatype='java.lang.String' representation='character-text' posX='3'  posY='0' width= '3'  height='1' alignmentH='right'  alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
    <ENTRY id='lbl_quantity_symbol' type='label'     argument='x' representation='character-text'                                                             posX='6'  posY='0' width= '1'  height='1' alignmentH= 'left'  alignmentV='top'                                                                 underline='false'/>
    <ENTRY id='fld_desc'            type='datafield' argument='TS.SRLI_COLLECTION.DESCRIPTION'    datatype='java.lang.String' representation='character-text' posX='8'  posY='0' width='30'  height='1' alignmentH= 'left'  alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!-- SALES ORDER DATA -->
  <SECTION id='4951' condition='Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"DP")' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_order_item'           type='query'     argument='ConcatWithSpace("${lbl_order_data.item}",TS.SALE_RETURN_LINE_ITEM.SALE_SORDER_ID)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='35'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_order_value'           type='query'     argument='ConcatWithSpace("${lbl_order_data.item}",TS.SALE_RETURN_LINE_ITEM.SALE_SORDER_ID)' datatype='java.lang.String' representation='character-text' posX='0'  posY='1' width='35'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- TENDER LINE ITEMS - TENDER_LINE_ITEM_SECTIONS = ReportSectionRange(5000..5999) -->

  <SECTION id='5010' condition='!TS.TENDER_LINE_ITEM.FOREIGN_CURRENCY_TENDER' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_tender_description' type='datafield' argument='TS.TENDER_LINE_ITEM.TENDER_DESCRIPTION' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'         type='datafield' argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='22'  posY='0' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_tender_amount'      type='datafield' argument='TS.TENDER_LINE_ITEM.SIGNED_AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!-- tender account number -->
  <SECTION id='5020' condition='!TS.TENDER_LINE_ITEM.FOREIGN_CURRENCY_TENDER AND !Equals(TS.TENDER_LINE_ITEM.TENDER_ACCOUNT_NUMBER,NULL) AND !TS.TENDER_LINE_ITEM.TENDER_ACCOUNT_NUMBER.EMPTY' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_number' type='query'     argument='ConcatWithSpace(${tender.account.number.label}, TS.TENDER_LINE_ITEM.TENDER_ACCOUNT_NUMBER)' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!--  foreign currency -->
  <SECTION id='5030' condition='TS.TENDER_LINE_ITEM.FOREIGN_CURRENCY_TENDER' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_tender_description' type='datafield' argument='TS.TENDER_LINE_ITEM.TENDER_DESCRIPTION' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_fc_isocode'      type='datafield'     argument='TS.TENDER_LINE_ITEM.FOREIGN_CURRENCY_CODE' representation='character-text' posX='2'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_fc_amount' type='datafield' argument='TS.TENDER_LINE_ITEM.FOREIGN_CURRENCY_AMOUNT' datatype='java.lang.String' representation='character-text' posX='8'  posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' wrap='false' can_expand='false' underline='false' display_mask='ID:PRICE'/>
    <ENTRY id='lbl_eq'      type='label'     argument='=' representation='character-text' posX='19'  posY='1' width='1'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'      type='datafield' argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='22'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_tender_amount' type='datafield' argument='TS.TENDER_LINE_ITEM.SIGNED_AMOUNT' datatype='java.lang.Double' representation='character-text' posX='27'  posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>

  <!-- gift certificate number -->
  <SECTION id='5040' condition='!TS.TENDER_LINE_ITEM.FOREIGN_CURRENCY_TENDER AND !Equals(TS.TENDER_LINE_ITEM.GIFT_CERTIFICATE_NUMBER,NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_number' type='query'     argument='ConcatWithSpace(${tender.giftCertificate.number.label}, TS.TENDER_LINE_ITEM.GIFT_CERTIFICATE_NUMBER)' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- terminal printout -->
  <SECTION id='5150' condition='(TS.TENDER_LINE_ITEM.TERMINAL_PAYMENT OR TS.TENDER_LINE_ITEM.CHECK_PAYMENT) AND TS.TENDER_LINE_ITEM.CUSTOMER_PRINT_CACHE_PRINTABLE AND !(MS.MODEL.TERMINAL_PRINTOUT_JOURNAL_FLAG)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='line_terminal_data_separator' type='line' representation='character-line' posX='2' posY='0' width='40' height='1'/>
  </SECTION>
  <SECTION id='5160' condition='(TS.TENDER_LINE_ITEM.TERMINAL_PAYMENT OR TS.TENDER_LINE_ITEM.CHECK_PAYMENT) AND TS.TENDER_LINE_ITEM.CUSTOMER_PRINT_CACHE_PRINTABLE AND !(MS.MODEL.TERMINAL_REPRINT_MISSING_RECEIPT_FLAG) AND !(MS.MODEL.TERMINAL_PRINTOUT_JOURNAL_FLAG)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_terminal_customer_cache'   type='datafield' argument='TS.TENDER_LINE_ITEM.CUSTOMER_PRINT_CACHE_TEXT' datatype='java.lang.String' representation='character-text' posX='2'  posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='true' underline='false'/>
  </SECTION>
    <SECTION id='5165' condition='(TS.TENDER_LINE_ITEM.TERMINAL_PAYMENT OR TS.TENDER_LINE_ITEM.CHECK_PAYMENT) AND TS.TENDER_LINE_ITEM.CUSTOMER_PRINT_CACHE_PRINTABLE AND MS.MODEL.TERMINAL_REPRINT_MISSING_RECEIPT_FLAG AND !(MS.MODEL.TERMINAL_PRINTOUT_JOURNAL_FLAG)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_missing_terminal_data_text' type='label' argument='${lbl_missing_terminal_data_text}' datatype='java.lang.String' representation='character-text' posX='2' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='true' underline='false' />
  </SECTION>
  <SECTION id='5170' condition='(TS.TENDER_LINE_ITEM.TERMINAL_PAYMENT OR TS.TENDER_LINE_ITEM.CHECK_PAYMENT) AND TS.TENDER_LINE_ITEM.CUSTOMER_PRINT_CACHE_PRINTABLE AND !(MS.MODEL.TERMINAL_PRINTOUT_JOURNAL_FLAG)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='line_terminal_data_separator' type='line' representation='character-line' posX='2' posY='2' width='40' height='1'/>
  </SECTION>

  <!-- points -->
  <SECTION id='5300' condition='TS.TENDER_LINE_ITEM.POINTS_PAYMENT' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_number' type='line' argument='ConcatWithSpace(${tender.points.label}, Format(TS.TENDER_LINE_ITEM.RETAIL_TRANSACTION_LINE_ITEM_FREQUENT_SHOPPER_POINTS_REDEMPTION.FREQUENT_SHOPPER_POINTS_REDEEMED_COUNT,"ID:BONUS_POINTS"))' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' display_mask='' underline='false'/>
  </SECTION>

  <!-- TENDER EXCHANGE FROM -->
  <SECTION id='15000' condition='Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "EX")' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_from_tender' type='label' argument='${lbl_from_tender}' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- TENDER EXCHANGE TO -->
  <SECTION id='15015' condition='Equals(TS.RETAIL_TRANSACTION_HEADER.RETAIL_TRANSACTION_TYPE_CODE, "EX")' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_to_tender' type='label' argument='${lbl_to_tender}' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- empty row after line item -->
  <SECTION id='7000' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'/>

  <!-- sections related to printout of promotion coupons (1.03.xx.x) -->
  <!-- promotion coupons header -->
  <SECTION condition='!TS.PROMOTION_COUPON.EMPTY' id='8010' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
<!--    <ENTRY id='fld_text' type='label' argument='${promotion_coupon.coupon}' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false' font='NORMAL, PLAIN, 12'/>-->
  </SECTION>
  <!-- promotion coupon number -->
  <SECTION id='8020' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
<!--    <ENTRY id='fld_text' type='query' argument='ConcatWithSpace("${promotion_coupon.number}",TS.PROMOTION_COUPON.COUPON_NUMBER)' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>-->
  </SECTION>

  <!-- TAX LINE ITEM SECTIONS -->

  <!-- tax line -->
  <SECTION id='9000' condition='!BS.STORE_DATA.INCLUDE_SALES_TAX_FLAG' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_receipt_print_code' type='query' argument='TS.TAX_LINE_ITEM.RECEIPT_PRINT_CODE' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='1' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_gross' type='query' argument='Format(TS.TAX_LINE_ITEM.GROSS,ID:PRICE)' datatype='java.lang.String' representation='character-text' posX='3' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='lbl_at_sign' type='label' argument='@' representation='character-text' posX='14' posY='0' width='1' height='1' alignmentH='right' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_tax_percent' condition='TS.TAX_LINE_ITEM.TAX_PERCENT!=null' type='query' argument='Format(TS.TAX_LINE_ITEM.TAX_PERCENT,ID:TAX_PERCENT)' datatype='java.lang.String' representation='character-text' posX='16'  posY='0' width='6' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_tax_percent_empty' condition='TS.TAX_LINE_ITEM.TAX_PERCENT==null' type='label' argument='--' datatype='java.lang.String' representation='character-text' posX='20'  posY='0' width='2' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='lbl_percent_sign' type='label' argument='%' representation='character-text' posX='22' posY='0' width='1' height='1' alignmentH='right' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='lbl_result_sign' type='label' argument='=' representation='character-text' posX='24' posY='0' width='1' height='1' alignmentH='right' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_tax'   type='query' argument='Format(TS.TAX_LINE_ITEM.TAX,ID:PRICE)'   datatype='java.lang.String' representation='character-text' posX='27'  posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- tax table header -->
  <SECTION id='9010' condition='BS.STORE_DATA.INCLUDE_SALES_TAX_FLAG' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='lbl_tax' type='label' argument='${tax.table.header.tax.label}' representation='character-text' posX='12' posY='1' width='4' height='1' alignmentH='right' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
      <ENTRY id='lbl_gross' type='label' argument='${tax.table.header.gross.label}' representation='character-text' posX='22' posY='1' width='6' height='1' alignmentH='right' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
      <ENTRY id='lbl_net' type='label' argument='${tax.table.header.net.label}' representation='character-text' posX='35' posY='1' width='5' height='1' alignmentH='right' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- tax table line -->
  <SECTION id='9020' condition='BS.STORE_DATA.INCLUDE_SALES_TAX_FLAG' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_receipt_print_code' type='query' argument='TS.TAX_LINE_ITEM.RECEIPT_PRINT_CODE' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='1' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_tax_percent' condition='TS.TAX_LINE_ITEM.TAX_PERCENT!=null' type='query' argument='Format(TS.TAX_LINE_ITEM.TAX_PERCENT,ID:TAX_PERCENT_INTEGER)' datatype='java.lang.String' representation='character-text' posX='2'  posY='0' width='2' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_tax_percent_empty' condition='TS.TAX_LINE_ITEM.TAX_PERCENT==null' type='label' argument='--' datatype='java.lang.String' representation='character-text' posX='2'  posY='0' width='2' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='lbl_percent_sign' type='label' argument='%' representation='character-text' posX='4' posY='0' width='1' height='1' alignmentH='right' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_tax'   type='query' argument='Replace(Format(TS.TAX_LINE_ITEM.TAX,"ID:PRICE_WITH_CURRENCY"), " ", "")'   datatype='java.lang.String' representation='character-text' posX='5'  posY='0' width='11' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_gross' type='query' argument='Replace(Format(TS.TAX_LINE_ITEM.GROSS,"ID:PRICE_WITH_CURRENCY"), " ", "")' datatype='java.lang.String' representation='character-text' posX='17' posY='0' width='11' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_net'   type='query' argument='Replace(Format(TS.TAX_LINE_ITEM.NET,"ID:PRICE_WITH_CURRENCY"), " ", "")'   datatype='java.lang.String' representation='character-text' posX='29' posY='0' width='11' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- tax table footer -->
  <SECTION id='9030' condition='BS.STORE_DATA.INCLUDE_SALES_TAX_FLAG AND !Equals(TS.FISCAL_TRANSACTION.COUNTER_TYPE,NULL) AND TS.TAX_LINE_ITEM.NOT_TAXABLE_TRANSACTION' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='lbl_footer' type='label' argument='${tax.table.footer.notax.label}' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>

  <!-- suspend transaction data -->
  <SECTION id='10000' type='detail' preferred_height='7' section_repeat='1' new_page_after='false' border='0'>
    <VARIABLE name='var_barcode' argument='StrCat(TS.TRANSACTION_HEADER.SUSPEND_TRANSACTION_BARCODE_PREFIX,FormatStr(BS.STORE_DATA.STORE_ID, 4, "0"),FormatStr(TS.TRANSACTION_HEADER.SUSPEND_NUMBER, 15, "0"))' datatype='java.lang.String'/>
    <ENTRY color='' domain='' id='barcode' type='variable' argument='var_barcode' datatype='java.lang.String' representation='barcode-text' posX='0' posY='1' width='40' height='3' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false' font='NORMAL, PLAIN, 12'>
      <PARAMETER value='Interleaved 2 of 5' name='type' datatype='java.lang.String'/>
      <PARAMETER value='true' name='text_printed' datatype='java.lang.Boolean'/>
      <PARAMETER value='above' name='text_position' datatype='java.lang.String'/>
    </ENTRY>
    <ENTRY id='fld_text' type='query' argument='ConcatWithSpace("${lbl.receipt.suspend.suspendNumber}",TS.TRANSACTION_HEADER.SUSPEND_NUMBER)' datatype='java.lang.String' representation='character-text' posX='0' posY='5' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>

  <!-- CUSTOMER SECTIONS -->

  <SECTION id='11000' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_descr_id' condition='!Equals(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION,"") AND !Equals(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION, NULL)' type='query' argument='StrCat(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION, ": ", TS.CUSTOMER.CUSTOMER_I_D)' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_descr_id' condition='Equals(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION,"") OR Equals(TS.CUSTOMER.ADDRESS_TYPE_DESCRIPTION, NULL)' type='query' argument='StrCat(${customer_card.description},": ", TS.CUSTOMER.CUSTOMER_I_D)' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- organization name -->
    <SECTION id='11011' condition='!Equals(TS.CUSTOMER.ORGANIZATION_NAME, NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_descr_id' type='query' argument='TS.CUSTOMER.ORGANIZATION_NAME' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- customer name -->
  <SECTION id='11012' condition='!Equals(TS.CUSTOMER.FIRST_NAME, NULL) OR !Equals(TS.CUSTOMER.LAST_NAME, NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_descr_id' type='query' argument='ConcatWithSpace(TS.CUSTOMER.FIRST_NAME, TS.CUSTOMER.LAST_NAME)' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- customer street -->
  <SECTION id='11013' condition='!Equals(TS.CUSTOMER.STREET, NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_street' type='query' argument='TS.CUSTOMER.STREET' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- customer address -->
  <SECTION id='11014' condition='!Equals(TS.CUSTOMER.POSTAL_CODE, NULL) OR !Equals(TS.CUSTOMER.CITY, NULL)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_descr_id' type='query' argument='ConcatWithSpace(TS.CUSTOMER.POSTAL_CODE, TS.CUSTOMER.CITY)' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- ROUNDING LINE ITEM -->
  <SECTION id='12000' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl' type='label' argument='${lbl.subtotal.rounding}' representation='character-text' posX='0' posY='0' width='15' height='1' alignmentH='left' alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='22'  posY='0' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.ROUNDING_LINE_ITEM.AMOUNT' datatype='java.lang.Double' representation='character-text' posX='28' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!--  PROMOTION COUPON -->
  <SECTION id='13000' condition='Equals(TS.TRANSACTION_COUPON_SUMMARY.CUSTOMER_ID,NULL)' type='detail' preferred_height='3' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_coupon' type='label' argument='${lbl.coupon}' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
      <ENTRY id='fld_number' type='query' argument='ConcatWithSpace("${lbl.coupon.number}", TS.TRANSACTION_COUPON_SUMMARY.COUPON_NUMBER)' datatype='java.lang.String' representation='character-text' posX='0' posY='2' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- BONUS POINTS -->
  <SECTION id='13100' condition='TS.RETAIL_TRANSACTION_HEADER.BONUS_POINTS_EARNED' type='detail' preferred_height='3' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='earned_bonus_points' type='query' argument='Replace("${lbl.bonuspoints.earned}", "{BonusPoints}", Format(TS.RETAIL_TRANSACTION_HEADER.BONUS_POINTS, "ID:BONUS_POINTS"))' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='2' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <SECTION id='13101' condition='!TS.RETAIL_TRANSACTION_HEADER.BONUS_POINTS_EARNED AND TS.RETAIL_TRANSACTION_HEADER.FREQUENT_SHOPPER_LOST_POINTS_COUNT != NULL AND TS.RETAIL_TRANSACTION_HEADER.FREQUENT_SHOPPER_LOST_POINTS_COUNT != 0' type='detail' preferred_height='3' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='lost_bonus_points' type='query' argument='Replace("${lbl.bonuspoints.lost}", "{LostPoints}", Format(TS.RETAIL_TRANSACTION_HEADER.FREQUENT_SHOPPER_LOST_POINTS_COUNT, "ID:BONUS_POINTS"))' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='2' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- DISCOUNT INFORMATION -->
  <SECTION id='13200' condition='TS.SALE_RETURN_LINE_ITEM.CONTAINS_NOT_REBATABLE_LINE_ITEM' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_coupon' type='label' argument='${lbl.discount.information}' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- EMPLOYEE SALES DATA -->
  <SECTION id='13300' condition='TS.WORKER_DISCOUNT_LINE_ITEM.WITH_WORKER_DISCOUNT' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_employee_id' type='query' argument='ConcatWithSpace("${lbl.employee.sales.id}",TS.WORKER_DISCOUNT_LINE_ITEM.WORKER_I_D)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='20'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <SECTION id='13301' condition='TS.WORKER_DISCOUNT_LINE_ITEM.WITH_WORKER_DISCOUNT AND (!Equals(TS.WORKER_DISCOUNT_LINE_ITEM.WORKER_FIRST_NAME, NULL) OR !Equals(TS.WORKER_DISCOUNT_LINE_ITEM.WORKER_LAST_NAME, NULL))' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='fld_employee_name' type='query' argument='ConcatWithSpace(TS.WORKER_DISCOUNT_LINE_ITEM.WORKER_FIRST_NAME, TS.WORKER_DISCOUNT_LINE_ITEM.WORKER_LAST_NAME)' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>

  <!-- pay in / pay out layout - parameter name -->
  <SECTION id='13401' condition='(Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"PI") OR Equals(TS.SALE_RETURN_LINE_ITEM.ITEM_TYPE,"PO")) AND !Equals(TS.SRLI_ADDITIONAL_PARAMETERS.PARAMETER_VALUE,null)' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_parameters'           type='query'     argument='StrCat(TS.SRLI_ADDITIONAL_PARAMETERS.PARAMETER_NAME,": ",TS.SRLI_ADDITIONAL_PARAMETERS.PARAMETER_VALUE)' datatype='java.lang.String' representation='character-text' posX='0'  posY='0' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>

  <!-- TRANSACTION MAIL INFORMATION -->
  <SECTION id='13500' condition='TS.RETAIL_TRANSACTION_HEADER.EMAIL_REQUESTED_FLAG' type='detail' preferred_height='3' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='mail_information' type='query' argument='Replace("${lbl.receipt.mail.information}", "{MailAddress}", StrCat(TS.RETAIL_TRANSACTION_HEADER.EMAIL_ADDRESS_LOCAL_PART, "@", TS.RETAIL_TRANSACTION_HEADER.EMAIL_ADDRESS_DOMAIN_PART))' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='2' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>

  <!-- COUPONT PRINTOUT TEXT  -->
  <SECTION id='14000' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0' standard_font='NORMAL, PLAIN, 12'>
    <ENTRY id='standard_text' type='query' argument='BS.COUPON_PRINTOUT_TEXT.TEXT' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='center' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='14001' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0' standard_font='NORMAL, BOLD, 12'>
    <ENTRY id='standard_bold_text' type='query' argument='BS.COUPON_PRINTOUT_TEXT.TEXT' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='center' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='14002' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0' standard_font='BIG, PLAIN, 12'>
    <ENTRY id='big_text' type='query' argument='BS.COUPON_PRINTOUT_TEXT.TEXT' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='2' alignmentH='center' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='14003' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0' standard_font='BIG, BOLD, 12'>
    <ENTRY id='big_bold_text' type='query' argument='BS.COUPON_PRINTOUT_TEXT.TEXT' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='2' alignmentH='center' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='14004' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0' standard_font='WIDE, PLAIN, 12'>
    <ENTRY id='wide_text' type='query' argument='BS.COUPON_PRINTOUT_TEXT.TEXT' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='center' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='14005' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0' standard_font='WIDE, BOLD, 12'>
    <ENTRY id='wide_bold_text' type='query' argument='BS.COUPON_PRINTOUT_TEXT.TEXT' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='center' alignmentV='top' underline='false' />
  </SECTION>
  <!-- coupon barcode -->
  <SECTION id='14010' condition='TS.PROMOTION_PRICE_DERIVATION_RULE.COUPON_PRINTOUT_I_D != NULL' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY color='' domain='' id='barcode' type='query' argument='TS.PROMOTION_PRICE_DERIVATION_RULE.COUPON_PRINTOUT_I_D' datatype='java.lang.String' representation='barcode-text' posX='0' posY='0' width='14' height='3' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false' font='NORMAL, PLAIN, 12'>
      <PARAMETER value='EAN 13' name='type' datatype='java.lang.String'/>
      <PARAMETER value='true' name='text_printed' datatype='java.lang.Boolean'/>
      <PARAMETER value='above' name='text_position' datatype='java.lang.String'/>
    </ENTRY>
  </SECTION>
  <!-- coupon picture -->
  <SECTION id='14020' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY domain='' id='coupon_picture' type='datafield' argument='BS.COUPON_PRINTOUT_TEXT.RESOLVED_PICTURE' datatype='java.lang.String' representation='image' posX='0' posY='1' width='20' height='2' alignmentH='center' alignmentV='top' sample_value='' display_mask='' underline='false' font='NORMAL, BOLD, 12'>
      <PARAMETER value='false' name='hor_stretch' datatype='java.lang.Boolean'/>
    </ENTRY>
  </SECTION>

  <!-- SALES ORDER ADDITIONAL PRINTOUT -->

  <!-- sales order title -->
  <SECTION id='100000' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.sales.order.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- sales order total - immediate pickup -->
  <SECTION id='100010' condition='!TS.SALES_ORDER.CONTAINS_DOWN_PAYMENT' type='detail' preferred_height='3' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_line'        type='label'      argument='-----------'  representation='character-text' posX='29'  posY='0' width='11' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_name'        type='label'      argument='${lbl.sales.order.total}'  representation='character-text' posX='0'  posY='1' width='20' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='22'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.SALES_ORDER.TOTAL' datatype='java.lang.Double' representation='character-text' posX='27' posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- sales order total -->
  <SECTION id='100011' condition='TS.SALES_ORDER.CONTAINS_DOWN_PAYMENT' type='detail' preferred_height='3' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_line'        type='label'      argument='-----------'  representation='character-text' posX='29'  posY='0' width='11' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_name'        type='label'      argument='${lbl.sales.order.total}'  representation='character-text' posX='0'  posY='1' width='20' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='20'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.SALES_ORDER.TOTAL' datatype='java.lang.Double' representation='character-text' posX='24' posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- sales order prepayment amount -->
  <SECTION id='100020' condition='TS.SALES_ORDER.CONTAINS_DOWN_PAYMENT' type='detail' preferred_height='2' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_name'        type='label'      condition='!TS.SALES_ORDER.DOWN_PAYMENT_REFUND' argument='${lbl.sales.order.downPayment.total}'  representation='character-text' posX='0'  posY='0' width='22' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_name_refund' type='label'      condition='TS.SALES_ORDER.DOWN_PAYMENT_REFUND'  argument='${lbl.sales.order.refund.total}'  representation='character-text' posX='0'  posY='0' width='22' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='20'  posY='0' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.SALES_ORDER.DOWN_PAYMENT_TOTAL' datatype='java.lang.Double' representation='character-text' posX='24' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- sales order barcode -->
  <SECTION id='100030' type='detail' preferred_height='4' section_repeat='1' new_page_after='false' border='0'>
      <VARIABLE name='var_barcode' argument='StrCat(MS.REPORT_CONFIG.SALES_ORDER_BARCODE_PREFIX, FormatStr(MS.MODEL.PARAMETER_CUSTOMER_ORDER.CUSTOMER_ORDER_REFERENCE, 10, "0"))' datatype='java.lang.String'/>
    <ENTRY color='' domain='' id='barcode' type='variable' argument='var_barcode' datatype='java.lang.String' representation='barcode-text' posX='0' posY='0' width='40' height='3' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false' font='NORMAL, PLAIN, 12'>
      <PARAMETER value='Interleaved 2 of 5' name='type' datatype='java.lang.String'/>
      <PARAMETER value='true' name='text_printed' datatype='java.lang.Boolean'/>
      <PARAMETER value='above' name='text_position' datatype='java.lang.String'/>
    </ENTRY>
  </SECTION>

  <!-- RETURN ADDITIONAL PRINTOUT -->

  <!-- return receipt title -->
  <SECTION condition='!TS.RETAIL_TRANSACTION_HEADER.SUSPENDED_TRANSACTION' id='110000' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.return.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, PLAIN, 12'/>
  </SECTION>
  <!-- return receipt customer signature -->
  <SECTION condition='!TS.RETAIL_TRANSACTION_HEADER.SUSPENDED_TRANSACTION' id='110010' type='detail' preferred_height='6' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_customer_signature' type='label' argument='${lbl.return.customer.signature}' representation='character-text' posX='0'  posY='1' width='40' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_customer_signature_line' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='4' width='40'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
  </SECTION>
  <!-- return receipt total -->
  <SECTION condition='!TS.RETAIL_TRANSACTION_HEADER.SUSPENDED_TRANSACTION' id='110020' type='detail' preferred_height='3' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_line'        type='label'      argument='-----------'  representation='character-text' posX='27'  posY='0' width='11' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='lbl_name'        type='label'      argument='${lbl.return.total}'  representation='character-text' posX='0'  posY='1' width='20' height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text' posX='22'  posY='1' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.RETURN.TOTAL' datatype='java.lang.Double' representation='character-text' posX='27' posY='1' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>


  <!-- ================================ Cash Recycle Failure Receipt Sections:  110100 - 110199 ================================ -->

  <SECTION id='110100' type='detail' preferred_height='2' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${lbl.cash.recycle.failure.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='2' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, BOLD, 12'/>
  </SECTION>
  <SECTION id='110110' type='detail' preferred_height='3' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_message'     type='label'      argument='${lbl.cash.recycle.failure.message}' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='3' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='true' underline='false'/>
  </SECTION>
  <SECTION id='110120' type='detail' preferred_height='2' section_repeat='1' new_page_after='false'>
    <ENTRY id='fld_bc_isocode'  type='datafield'  argument='BS.CURRENCY_DATA.BASE_CURRENCY_SYMBOL' representation='character-text' posX='11'  posY='0' width='3'  height='1' alignmentH='left'  alignmentV='top' underline='false'/>
    <ENTRY id='fld_total'       type='datafield'  argument='TS.TRANSACTION_HEADER.CASH_RECYCLER_UNRESOLVED_AMOUNT' datatype='java.lang.Double' representation='character-text' posX='14' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' wrap='false' can_expand='false' underline='false'/>
  </SECTION>


  <!-- ================================ WARRANTY Sections:  111.000 - 111.999================================ -->

  <!-- Warranty Title: 111.100 -->
  <SECTION id='111100' type='detail' preferred_height='2' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${warranty.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='2' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, BOLD, 12'/>
  </SECTION>
  <!-- Warranty Discount: 111.300 -->
  <SECTION id='111300' condition='TS.WARRANTY_RBO.PRICE_DISCOUNT_EXISTS' type='detail' preferred_height='1' section_repeat='1' new_page_after='false'>
  <ENTRY id='lbl_originalprice'  type='label' argument='${warranty.originalprice.label}' datatype='java.lang.String' representation='character-text' posX= '0' posY='0' width='19' height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask=''         underline='false' font='NORMAL, PLAIN, 12'/>
  <ENTRY id='fld_originalamount' type='query' argument='TS.WARRANTY_RBO.ORIGINAL_PRICE'  datatype='java.lang.Double' representation='character-text' posX='19' posY='0' width='19' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' underline='false'/>
  <ENTRY id='lbl_discount'       type='label' argument='${warranty.discount.label}'      datatype='java.lang.String' representation='character-text' posX= '0' posY='1' width='19' height='1' alignmentH='left'  alignmentV='top' sample_value='' display_mask=''         underline='false' font='NORMAL, PLAIN, 12'/>
  <ENTRY id='fld_amount'         type='query' argument='TS.WARRANTY_RBO.PRICE_DISCOUNT'  datatype='java.lang.Double' representation='character-text' posX='19' posY='1' width='19' height='1' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' underline='false'/>
  </SECTION>
  <!-- Warranty Price: 111.400 -->
  <SECTION id='111400' type='detail' preferred_height='2' section_repeat='2' new_page_after='false'>
    <ENTRY id='lbl_price'      type='label'     argument='${warranty.price.label}'             datatype='java.lang.String' representation='character-text' posX= '0' posY='0' width='19' height='2' alignmentH='left'  alignmentV='top' sample_value='' display_mask=''         underline='false' font='NORMAL, PLAIN, 12'/>
    <ENTRY id='fld_bc_isocode' type='datafield' argument='BS.CURRENCY_DATA.BASE_CURRENCY_CODE' representation='character-text'                             posX='22' posY='0' width= '3' height='2' alignmentH='left'  alignmentV='top'                                         underline='false'/>
    <ENTRY id='fld_amount'     type='query'     argument='TS.WARRANTY_RBO.RETURN_PRICE'        datatype='java.lang.Double' representation='character-text' posX='25' posY='0' width='13' height='2' alignmentH='right' alignmentV='top' sample_value='' display_mask='ID:PRICE' underline='false'/>
  </SECTION>
  <!-- Warranty Duration: 111.500 -->
  <SECTION id='111510' condition='TS.WARRANTY_RBO.WARRANTY_DURATION_ONE_MONTH' type='detail' preferred_height='1' section_repeat='1' new_page_after='false'>
    <ENTRY id='fld_duration1month' type='query' argument='ConcatWithSpace("${warranty.duration.label}:", TS.WARRANTY_RBO.WARRANTY_DURATION_IN_MONTHS, "${warranty.duration.month}")' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <SECTION id='111520' condition='!TS.WARRANTY_RBO.WARRANTY_DURATION_ONE_MONTH' type='detail' preferred_height='1' section_repeat='1' new_page_after='false'>
    <ENTRY id='fld_durationXmonths' type='query' argument='ConcatWithSpace("${warranty.duration.label}:", TS.WARRANTY_RBO.WARRANTY_DURATION_IN_MONTHS, "${warranty.duration.months}")' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- Warranty Purchase Date: 111.600 -->
  <SECTION id='111600' type='detail' preferred_height='1' section_repeat='1' new_page_after='false'>
    <ENTRY id='fld_purchasedate' type='query' argument='ConcatWithSpace("${warranty.purchasedate.label}:", Format(TS.WARRANTY_RBO.RECEIPT_FINALIZED_TIMESTAMP,"ID:DATE_LONG"))' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- Warranty End Date: 111.700 -->
  <SECTION id='111700' type='detail' preferred_height='1' section_repeat='1' new_page_after='false'>
    <ENTRY id='fld_warrantyenddate' type='query' argument='ConcatWithSpace("${warranty.enddate.label}:", Format(TS.WARRANTY_RBO.WARRANTY_END_DATE,"ID:DATE_LONG"))' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- Warranty Number: 111.800 -->
  <SECTION id='111800' type='detail' preferred_height='1' section_repeat='1' new_page_after='false'>
    <ENTRY id='fld_warrantynumber' type='query' argument='ConcatWithSpace("${warranty.number.label}:", TS.WARRANTY_RBO.WARRANTY_NUMBER)' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' sample_value='' display_mask='' wrap='false' can_expand='false' underline='false'/>
  </SECTION>
  <!-- Warranty Hint: 111.900 -->
  <SECTION id='111910' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='horizontal_line' type='line' representation='character-line' posX='0' posY='0' width='40' height='1'/>
  </SECTION>
  <SECTION id='111920' type='detail' preferred_height='4' section_repeat='1' new_page_after='false'>
    <ENTRY id='lbl_hint1' type='label' argument='${warranty.hint.line1}' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' underline='false'/>
    <ENTRY id='lbl_hint2' type='label' argument='${warranty.hint.line2}' datatype='java.lang.String' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' underline='false'/>
    <ENTRY id='lbl_hint3' type='label' argument='${warranty.hint.line3}' datatype='java.lang.String' representation='character-text' posX='0' posY='2' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' underline='false'/>
    <ENTRY id='lbl_hint4' type='label' argument='${warranty.hint.line4}' datatype='java.lang.String' representation='character-text' posX='0' posY='3' width='40' height='1' alignmentH='center' alignmentV='top' sample_value='' display_mask='' underline='false'/>
  </SECTION>
  <SECTION id='111930' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
      <ENTRY id='horizontal_line' type='line' representation='character-line' posX='0' posY='0' width='40' height='1'/>
  </SECTION>

  <!-- == Warranty Sections End == -->


  <!-- Section for printout manipulation 120000 - 121000 -->


  <!--  before line item -->
  <SECTION id='120000' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0' >
  <ENTRY id='standard_text' type='query' argument='TS.ADDITIONAL_LINE.RAW_DATA' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>

  <!--  after line item -->
  <SECTION id='120010' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
  <ENTRY id='standard_text' type='query' argument='TS.ADDITIONAL_LINE.RAW_DATA' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>

<!-- for additional printouts -->
  <!--  title -->
  <SECTION id='120100' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_title' type='query' argument='ConcatWithSpace("***", "${external.title}", "***")' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='2' alignmentH='center' alignmentV='top' sample_value='' display_mask='' wrap='true' can_expand='true' underline='false' font='NORMAL, BOLD, 12'/>
  </SECTION>

  <!--  normalbold -->
  <SECTION id='120110' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
  <ENTRY id='standard_text' type='query' argument='TS.ADDITIONAL_LINE.RAW_DATA' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>

  <!--  normalplain -->
  <SECTION id='120111' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
  <ENTRY id='standard_text' type='query' argument='TS.ADDITIONAL_LINE.RAW_DATA' datatype='java.lang.String' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>

  <!--  EBT Balance -->
  <SECTION id='130000' type='detail' preferred_height='5' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_header' type='label' argument='${lbl.ebt_card_balances}' representation='character-text' posX='0' posY='1' width='20'  height='1' alignmentH='left' alignmentV='top' underline='false'/>
    <ENTRY id='fld_cash_card' type='query' condition='!Equals(TS.E_B_T_BALANCE.CARD_NUMBER, NULL)' argument='TS.E_B_T_BALANCE.CARD_NUMBER' representation='character-text' posX='0' posY='2' width='16' height='1' alignmentH='left' alignmentV='top' underline='false'/>
    <ENTRY id='lbl_cash' type='label' argument='${lbl.ebt_cash}' representation='character-text' posX='17' posY='2' width='4' height='1' alignmentH='left' alignmentV='top' underline='false'/>
    <ENTRY id='fld_cash_bal' type='query' condition='!Equals(TS.E_B_T_BALANCE.CASH_BALANCE, NULL)' argument='Format(TS.E_B_T_BALANCE.CASH_BALANCE,"ID:PRICE")' datatype='java.lang.Double' representation='character-text' posX='22' posY='2' width='8'  height='1' alignmentH='right' alignmentV='top' underline='false'/>
    <ENTRY id='fld_food_card' type='query' condition='!Equals(TS.E_B_T_BALANCE.CARD_NUMBER, NULL)' argument='TS.E_B_T_BALANCE.CARD_NUMBER' representation='character-text' posX='0' posY='3' width='16' height='1' alignmentH='left' alignmentV='top' underline='false'/>
    <ENTRY id='lbl_food' type='label' argument='${lbl.ebt_food}' representation='character-text' posX='17'  posY='3' width='4'  height='1' alignmentH='left' alignmentV='top' underline='false'/>
    <ENTRY id='fld_food_bal' type='query' condition='!Equals(TS.E_B_T_BALANCE.FOOD_BALANCE, NULL)' argument='Format(TS.E_B_T_BALANCE.FOOD_BALANCE,"ID:PRICE")' datatype='java.lang.Double' representation='character-text' posX='22' posY='3' width='8'  height='1' alignmentH='right' alignmentV='top' underline='false'/>
  </SECTION>

  <!-- eWIC Payment Additional Information -->
  <SECTION id='131000' type='detail' preferred_height='8' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_asterisks' type='label' argument='****************************************' representation='character-text' posX='0' posY='1' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_header' type='label' argument='${lbl.ewic_beginning_balance.header}' representation='character-text' posX='5' posY='2' width='30' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='lbl_pan' type='label' argument='${lbl.ewic_beginning_balance.pan}' representation='character-text' posX='0' posY='4' width='4' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='fld_pan' type='query' argument='TS.BEGINNING_EWIC_BENEFITS_BALANCE_INFORMATION.CARD_NUMBER' representation='character-text' posX='6' posY='4' width='16' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='lbl_state' type='label' argument='${lbl.ewic_beginning_balance.state}' representation='character-text' posX='27' posY='4' width='7' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='fld_state' type='query' argument='TS.BEGINNING_EWIC_BENEFITS_BALANCE_INFORMATION.STATE_CODE' representation='character-text' posX='35' posY='4' width='2' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='lbl_asterisks' type='label' argument='****************************************' representation='character-text' posX='0' posY='5' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_benefit' type='label' argument='${lbl.ewic_beginning_balance.benefit}' representation='character-text' posX='0' posY='6' width='7' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='8' posY='6' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_uom' type='label' argument='${lbl.ewic_beginning_balance.uom}' representation='character-text' posX='10' posY='6' width='3' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='15' posY='6' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_description' type='label' argument='${lbl.ewic_beginning_balance.description}' representation='character-text' posX='17' posY='6' width='11' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_dashes' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='7' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='131050' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_benefit' type='query' argument='TS.BEGINNING_EWIC_BENEFITS_BALANCE_INFORMATION.BALANCE' representation='character-text' posX='0' posY='0' width='8' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='8' posY='0' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='fld_uom' type='query' argument='TS.BEGINNING_EWIC_BENEFITS_BALANCE_INFORMATION.UOM_DESCRIPTION' representation='character-text' posX='10' posY='0' width='5' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='15' posY='0' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='fld_description' type='query' argument='TS.BEGINNING_EWIC_BENEFITS_BALANCE_INFORMATION.SUBCATEGORY_DESCRIPTION' representation='character-text' posX='17' posY='0' width='23' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='131055' type='detail' condition='!TS.BEGINNING_EWIC_BENEFITS_BALANCE_INFORMATION.LAST' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_dashes' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>

  <SECTION id='131100' type='detail' preferred_height='5' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_asterisks' type='label' argument='****************************************' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_header' type='label' argument='${lbl.ewic_benefits_redemption.header}' representation='character-text' posX='4' posY='1' width='32' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='lbl_benefit' type='label' argument='${lbl.ewic_benefits_redemption.benefit}' representation='character-text' posX='0' posY='3' width='7' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='8' posY='3' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_uom' type='label' argument='${lbl.ewic_benefits_redemption.uom}' representation='character-text' posX='10' posY='3' width='3' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='15' posY='3' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_description' type='label' argument='${lbl.ewic_benefits_redemption.description}' representation='character-text' posX='17' posY='3' width='11' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_dashes' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='4' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='131150' type='detail' condition='TS.EWIC_BENEFITS_REDEMPTION_INFORMATION.FIRST' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_total_quantity' type='query' argument='TS.EWIC_BENEFITS_REDEMPTION_INFORMATION.TOTAL_QUANTITY' representation='character-text' posX='0' posY='0' width='8' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='8' posY='0' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='fld_uom' type='query' argument='TS.EWIC_BENEFITS_REDEMPTION_INFORMATION.UOM_CODE' representation='character-text' posX='10' posY='0' width='5' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='15' posY='0' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='fld_description' type='query' argument='TS.EWIC_BENEFITS_REDEMPTION_INFORMATION.SUBCATEGORY_DESCRIPTION' representation='character-text' posX='17' posY='0' width='23' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='131155' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_quantity' type='query' argument='TS.EWIC_BENEFITS_REDEMPTION_INFORMATION.QUANTITY' representation='character-text' posX='0' posY='0' width='8' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='fld_item_description' type='query' argument='TS.EWIC_BENEFITS_REDEMPTION_INFORMATION.ITEM_DESCRIPTION' representation='character-text' posX='10' posY='0' width='19' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='fld_redeemed_balance' type='datafield' argument='TS.EWIC_BENEFITS_REDEMPTION_INFORMATION.REDEEMED_BALANCE' datatype='java.lang.Double' representation='character-text' posX='30' posY='0' width='10' height='1' alignmentH='right' alignmentV='top' display_mask='ID:PRICE' underline='false' />
  </SECTION>

  <SECTION id='131200' type='detail' preferred_height='7' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_asterisks' type='label' argument='****************************************' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_header' type='label' argument='${lbl.ewic_ending_balance.header}' representation='character-text' posX='6' posY='1' width='30' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='lbl_pan' type='label' argument='${lbl.ewic_ending_balance.pan}' representation='character-text' posX='0' posY='3' width='4' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='fld_pan' type='query' argument='TS.ENDING_EWIC_BENEFITS_BALANCE_INFORMATION.CARD_NUMBER' representation='character-text' posX='6' posY='3' width='16' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='lbl_state' type='label' argument='${lbl.ewic_ending_balance.state}' representation='character-text' posX='27' posY='3' width='7' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='fld_state' type='query' argument='TS.ENDING_EWIC_BENEFITS_BALANCE_INFORMATION.STATE_CODE' representation='character-text' posX='35' posY='3' width='2' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='lbl_asterisks' type='label' argument='****************************************' representation='character-text' posX='0' posY='4' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_benefit' type='label' argument='${lbl.ewic_ending_balance.benefit}' representation='character-text' posX='0' posY='5' width='7' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='8' posY='5' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_uom' type='label' argument='${lbl.ewic_ending_balance.uom}' representation='character-text' posX='10' posY='5' width='3' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='15' posY='5' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_description' type='label' argument='${lbl.ewic_ending_balance.description}' representation='character-text' posX='17' posY='5' width='11' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_dashes' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='6' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='131250' type='detail' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='fld_benefit' type='query' argument='TS.ENDING_EWIC_BENEFITS_BALANCE_INFORMATION.BALANCE' representation='character-text' posX='0' posY='0' width='8' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='8' posY='0' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='fld_uom' type='query' argument='TS.ENDING_EWIC_BENEFITS_BALANCE_INFORMATION.UOM_DESCRIPTION' representation='character-text' posX='10' posY='0' width='5' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_vertical_line' type='label' argument='|' representation='character-text' posX='15' posY='0' width='1' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='fld_description' type='query' argument='TS.ENDING_EWIC_BENEFITS_BALANCE_INFORMATION.SUBCATEGORY_DESCRIPTION' representation='character-text' posX='17' posY='0' width='23' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>
  <SECTION id='131255' type='detail' condition='!TS.ENDING_EWIC_BENEFITS_BALANCE_INFORMATION.LAST' preferred_height='1' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_dashes' type='label' argument='----------------------------------------' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>

  <SECTION id='131300' type='detail' preferred_height='4' section_repeat='1' new_page_after='false' border='0'>
    <ENTRY id='lbl_asterisks' type='label' argument='****************************************' representation='character-text' posX='0' posY='0' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
    <ENTRY id='lbl_expiration_date' type='label' argument='${lbl.ewic_benefits_expiration_date}' representation='character-text' posX='0' posY='1' width='19' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='fld_expiration_date' type='query' argument='TS.ENDING_EWIC_BENEFITS_BALANCE_INFORMATION.EXPIRATION_DATE' representation='character-text' posX='21' posY='1' width='10' height='1' alignmentH='left' alignmentV='top' underline='false' font='NORMAL, BOLD, 12' />
    <ENTRY id='lbl_asterisks' type='label' argument='****************************************' representation='character-text' posX='0' posY='2' width='40' height='1' alignmentH='left' alignmentV='top' underline='false' />
  </SECTION>

</TEMPLATE>